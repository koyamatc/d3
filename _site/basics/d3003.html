<!DOCTYPE html>
<html lang="jp">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" CONTENT="IE=EmulateIE7" />
  <title>d3</title>
  <!-- Le styles -->
  <link href="/css/bootstrapx.css" rel="stylesheet">
  <link href="/css/bootstrap-glyphicons.css" rel="stylesheet">
  <link href="/css/logo.css" rel="stylesheet">
  <link href="/css/jklmain.css" rel="stylesheet">
  <link href="/css/monokai.css" rel="stylesheet">
  <link href="/css/d3.css" rel="stylesheet">
</head>
<body>
  <div class="container">
        <div class="row">
      <div class="col-sm-5 col-md-5">
        <div id="logo"><span>koyamatch.com</span></div>
      </div>
      <div class="col-sm-7 col-md-7">
        <h1 id="subtitle" class="text-right">d3</h1>
        <div class="row">
          <div class="col-md-4"></div>
          <div class="col-md-offset-4">
          <a href="/"><h4><span class="glyphicon glyphicon-home text-white"> home</span></h4></a>
          </div>
        </div>  
      </div>
    </div><!--/row-->

    
    <h2>SVG基本図形</h2>
<p class="meta">29 May 2014</p>

<div class="post">
<p><strong>円</strong></p>

<div id="ins01"></div>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;svg</span> <span class="na">width=</span><span class="s">&quot;50&quot;</span> <span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;circle</span> <span class="na">cx=</span><span class="s">&quot;25&quot;</span> <span class="na">cy=</span><span class="s">&quot;25&quot;</span> <span class="na">r=</span><span class="s">&quot;25&quot;</span> <span class="na">fill=</span><span class="s">&quot;lime&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>

<div class="highlight"><pre><code class="javascript"><span class="c1">//svg コンテナを作る</span>
<span class="kd">var</span> <span class="nx">svg01</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#ins01&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
                               <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
                               <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="c1">// 円を描く</span>
<span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">svg01</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="s2">&quot;lime&quot;</span><span class="p">);</span>
</code></pre></div>

<h4 id="toc_0">円を描くには２つのプロセスが有ります</h4>

<ol>
<li>svgコンテナを作る</li>
<li>円を描く<br></li>
</ol>

<ul>
<li>円を描くために必要なsvg属性は：　&quot;cx&quot;,&quot;cy&quot;,&quot;r&quot;</li>
</ul>

<p><strong>長方形</strong>
<div id="ins02"></div></p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;svg</span> <span class="na">width=</span><span class="s">&quot;100&quot;</span> <span class="na">height=</span><span class="s">&quot;100&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;rect</span> <span class="na">x=</span><span class="s">&quot;0&quot;</span> <span class="na">y=</span><span class="s">&quot;0&quot;</span> <span class="na">width=</span><span class="s">&quot;50&quot;</span> <span class="na">height=</span><span class="s">&quot;100&quot;</span> <span class="na">fill=</span><span class="s">&quot;green&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>

<div class="highlight"><pre><code class="javascript"><span class="c1">//SVG コンテナを作る</span>
<span class="kd">var</span> <span class="nx">svg02</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#ins02&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
                                    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
                                    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="c1">//　長方形を描く</span>
<span class="kd">var</span> <span class="nx">rectangle</span> <span class="o">=</span> <span class="nx">svg02</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;rect&quot;</span><span class="p">)</span>
                            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
                            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
                            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
                            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
                            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span><span class="s2">&quot;green&quot;</span><span class="p">);</span>
</code></pre></div>

<ul>
<li><p>長方形を描くのに必要な属性は&quot;x&quot;,&quot;y&quot;,&quot;height&quot;,&quot;width&quot;</p></li>
<li><p>rectangleに対するSVGの単語はrectです。         </p></li>
</ul>

<p><strong>楕円形</strong>
<div id="ins03"></div></p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;svg</span> <span class="na">width=</span><span class="s">&quot;100&quot;</span> <span class="na">height=</span><span class="s">&quot;100&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ellipse</span> <span class="na">cx=</span><span class="s">&quot;50&quot;</span> <span class="na">cy=</span><span class="s">&quot;50&quot;</span> <span class="na">rx=</span><span class="s">&quot;40&quot;</span> <span class="na">ry=</span><span class="s">&quot;20&quot;</span> <span class="na">fill=</span><span class="s">&quot;red&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>
          

<div class="highlight"><pre><code class="javascript"><span class="c1">//SVG　コンテナを作る </span>
<span class="kd">var</span> <span class="nx">svg03</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#ins03&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
                               <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
                               <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="c1">//楕円形を描く</span>
<span class="kd">var</span> <span class="nx">ellipse</span> <span class="o">=</span> <span class="nx">svg03</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;ellipse&quot;</span><span class="p">)</span>
                   <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
                   <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
                   <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;rx&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
                   <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;ry&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
                   <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span><span class="s2">&quot;red&quot;</span><span class="p">);</span>
</code></pre></div>
 

<ul>
<li>楕円を描くのに必要な属性は&quot;cx&quot;, &quot;cy&quot;, &quot;rx&quot; , &quot;ry&quot;<br></li>
</ul>

<p><strong>直線</strong>
<div id="ins04"></div></p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;svg</span> <span class="na">width=</span><span class="s">&quot;100&quot;</span> <span class="na">height=</span><span class="s">&quot;100&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;line</span> <span class="na">x1=</span><span class="s">&quot;5&quot;</span> <span class="na">y1=</span><span class="s">&quot;5&quot;</span> <span class="na">x2=</span><span class="s">&quot;90&quot;</span> <span class="na">y2=</span><span class="s">&quot;80&quot;</span> <span class="na">stroke=</span><span class="s">&quot;gold&quot;</span> <span class="na">stroke-width=</span><span class="s">&quot;5&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>

<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">svg04</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#ins04&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
                               <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
                               <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">line</span> <span class="o">=</span> <span class="nx">svg04</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;gold&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span><span class="s2">&quot;5&quot;</span><span class="p">);</span>
</code></pre></div>

<p>lineは、幾何学的には１次元で、中身がありません。 したがって、line要素は fillできません。</p>

<p>そこで</p>

<ul>
<li>.attribute(&quot;stroke-width&quot;, NUMBER)</li>
<li>.attribute(&quot;stroke&quot;, COLOR)</li>
</ul>

<p>を与えます。</p>

<ul>
<li>直線を描くのに必要な属性は&quot;x1&quot;, &quot;y1&quot;, &quot;x2&quot; , &quot;y2&quot;, &quot;stroke-width&quot;, &quot;stroke&quot;</li>
</ul>

<p><strong>ポリライン</strong>
<div id="ins04"></div>
<svg width="50" height="50">
  <polyline fill="none" stroke="white" stroke-width="2" 
               points="05,30
                       15,30 
                       15,20
                       25,20
                       25,10
                       35,10" />
</svg></p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;svg</span> <span class="na">width=</span><span class="s">&quot;50&quot;</span> <span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;polyline</span> <span class="na">fill=</span><span class="s">&quot;none&quot;</span> <span class="na">stroke=</span><span class="s">&quot;white&quot;</span> <span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span> 
               <span class="na">points=</span><span class="s">&quot;05,30</span>
<span class="s">                       15,30 </span>
<span class="s">                       15,20</span>
<span class="s">                       25,20</span>
<span class="s">                       25,10</span>
<span class="s">                       35,10&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>

<p><strong>ポリゴン</strong></p>

<p><svg width="50" height="50">
  <polygon fill="yellow" stroke="gray" stroke-width="2" 
                points="05,30
                        15,10 
                        25,30" />
</svg></p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;svg</span> <span class="na">width=</span><span class="s">&quot;50&quot;</span> <span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;polygon</span> <span class="na">fill=</span><span class="s">&quot;yellow&quot;</span> <span class="na">stroke=</span><span class="s">&quot;gray&quot;</span> <span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span> 
                <span class="na">points=</span><span class="s">&quot;05,30</span>
<span class="s">                        15,10 </span>
<span class="s">                        25,30&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>

<p>ポリライン　と　ポリゴン　を描くのに</p>

<p>d3.js では、　d3.svg.line() を使うのが便利です</p>

<p>そのためには　__SVG Paths__ を勉強する必要があります </p>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<script>
// 円
var svg01 = d3.select("#ins01").append("svg")
                               .attr("width", 50)
                               .attr("height", 50);
var circle = svg01.append("circle")
                  .attr("cx", 25)
                  .attr("cy", 25)
                  .attr("r", 25)
                  .style("fill", "lime");

//長方形
//SVG コンテナを作る
var svg02 = d3.select("#ins02").append("svg")
                                    .attr("width", 100)
                                    .attr("height", 100);

//　長方形を描く
var rectangle = svg02.append("rect")
                            .attr("x", 10)
                            .attr("y", 10)
                            .attr("width", 50)
                            .attr("height", 100)
                            .style("fill","green");

// 楕円形
//SVG　コンテナを作る 
var svg03 = d3.select("#ins03").append("svg")
                               .attr("width", 100)
                               .attr("height", 100);

//楕円形を描く
var ellipse = svg03.append("ellipse")
                   .attr("cx", 50)
                   .attr("cy", 50)
                   .attr("rx", 40)
                   .attr("ry", 20)
                   .style("fill","red");

//直線
var svg04 = d3.select("#ins04").append("svg")
                               .attr("width", 100)
                               .attr("height", 100);

var line = svg04.append("line")
                .attr("x1", 5)
                .attr("y1", 5)
                .attr("x2", 90)
                .attr("y2", 80)
                .attr("stroke","gold")
                .attr("stroke-width","5");






</script>        

</div>

 
        <div class="row">
      <footer>
        <hr>
        <div class="col-sm-8">
          <p>&copy;koyamatc@koyamatch.com since 2002</p>
        </div>
        <div class="col-sm-2">
          <p><a href="https://github.com/koyamatc">github.com/koyamatc</a></p>
        </div>
        <div class="col-sm-2">
          <p><a href="https://www.facebook.com/koyamatc">www.facebook.com/koyamatc</a></p>
        </div>
      </footer>
    </div>

  </div><!-- container -->

  <!-- JavaScript Libraries -->
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap.js"></script>
  <script src="/js/jquery.lettering-0.6.1.min.js"></script>
  <script src="/js/logo.js"></script>
</body>
</html>

