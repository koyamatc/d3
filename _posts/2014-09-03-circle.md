---
title: d3
layout: post
postTitle: Circle Transformation  
categories: Transition demos
---

<div class="row">
	<div class="col-sm-8">
		<div id="svg01"></div>
    <div id="msg01"></div>
	</div>
	<div class="col-sm-4">
		<div class="btn-group-vertical">
		<div class="label">Click Start button</div>
			<button id="btnStart" class="btn btn-info">START</button>
		</div>
	</div>
</div>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script>

var pi = Math.PI;
var circleData = [];
var color = d3.scale.category20();

for (var i = 1; i <= 360; i++) {
  circleData.push(i);
};

 
var linearScale = d3.scale.linear()
                   .domain([-1.1,1.1])
                   .range([0,500]); 
 
var svg01 = d3.select("#svg01").append("svg")
                 .attr("width",500)
                 .attr("height",500);


for (var l=1; l<=360; l++) {
	
	var dif = pi/180*l;
	
	//Circles added
	var circleFunc = d3.svg.line()
     .x(function(d,i) { return linearScale(Math.cos(i*dif)); })
     .y(function(d,i) { return linearScale(Math.sin(i*dif)); })
     .interpolate("linear");

	var circle01 = svg01.append("path")
                      .attr("d", circleFunc(circleData))
                      .attr("stroke", "gold")
                      .attr("stroke-width", 0.5)
                      .attr("id", function(d,i){return "c" + l;})
                      .attr("opacity",0) 
                      .style("fill","none");

};

d3.select("#c1").attr("opacity",100);

d3.select("#btnStart").on("click",function(){

	var delay = 300;

	for (var i = 1; i < 360; i++) {

		d3.select("#c"+i)
			.transition()
			.delay(delay*i)
			.duration(delay)
			.ease("linear")
			.attr("opacity",0);
		var no = i + 1;
		d3.select("#c"+no)
			.transition()
			.delay(delay*i)
			.duration(delay)
			.ease("linear")
			.attr("opacity",100);

	};

	d3.select("#c1")
			.transition()
			.delay(delay*360)
			.attr("opacity",100);
	svg01.append("text")
			.transition()
			.delay(delay*360)
      .attr("x", function(d){return linearScale(0);})
      .attr("y", function(d){return linearScale(0);})
      .text("Finished")
      .attr("font-size","3em")
      .attr("stroke","#fff");

});

</script>